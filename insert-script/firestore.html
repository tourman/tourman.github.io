<html>
  <head>
    <script>
      (() => {
        const sources = [
          "https://antoinevastel.com/bots/",
          "https://arh.antoinevastel.com/bots/areyouheadless",
          "https://infosimples.github.io/detect-headless/",
          "https://intoli.com/blog/making-chrome-headless-undetectable/chrome-headless-test.html",
          "https://intoli.com/blog/not-possible-to-block-chrome-headless/chrome-headless-test.html",
          "https://bot.sannysoft.com/",
          "https://browserleaks.com/client-hints",
          "https://tourman.github.io/screen/",
        ];
        window.addEventListener("load", () => {
          document.getElementById("stage-1").addEventListener("click", () => {
            sources.forEach((source) =>
              window.open(source, "_blank", "noreferrer,noopener")
            );
          });
          document.querySelector("form").addEventListener("submit", (e) => {
            e.preventDefault();
            const pass = document.querySelector("input[name='pass']").value;
            const pre = document.querySelector("pre");
            pre.innerHTML = pre.innerHTML.replace(/=\s*"[^"]*"/, `= "${pass}"`);
          });
          document.querySelector("ol").innerHTML = sources
            .map(
              (source) =>
                `<li><a href="${source}" target="_blank" rel="noreferrer">${source}</a></li>`
            )
            .join("");
        });
      })();
    </script>
  </head>
  <body>
    <pre>
window.pass = "";
var script = document.createElement("script");
script.setAttribute(
  "src",
  "https://tourman.github.io/insert-script/firestore-index.js"
);
script.setAttribute("type", "module");
document.head.append(script);
    </pre>
    <form>
      <input type="password" name="pass" />
      <button type="submit">Generate</button>
    </form>
    <button id="stage-1">Open 1-st stage</button>
    <ol></ol>
  </body>
</html>
