(this["webpackJsonpallyo-test"]=this["webpackJsonpallyo-test"]||[]).push([[0],{178:function(e,t,n){},179:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(15),o=n.n(c),s=n(25),i=n(79),l=n(21),u=n(87),d=n(28),m=n(88),f=n(82),p=n(83),v=n.n(p),h=["INIT","SEARCH","STATUS"].reduce((function(e,t){return e[t]=t,e}),{}),g=n(14),b=n.n(g),E=b()((function(e){var t=e.name,n=e.role,r=e.status;return b()((function(e){return[t,n,r].find((function(t){return t.toLowerCase().trim().replace(/[^a-z0-9]+/gim," ").includes(e)}))}))})),O=b()((function(e){return b()((function(t){var n=t.toLowerCase().trim().replace(/\s+/gm," "),r=n.split(/\s/gm),a=3===r.length&&"or"===r[1],c=3===r.length&&"and"===r[1];return a?e.filter((function(e){return E(e)(r[0])||E(e)(r[2])})):c?e.filter((function(e){return E(e)(r[0])&&E(e)(r[2])})):e.filter((function(e){return E(e)(n)}))}))}));function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var w=v()({data:{records:[{name:"AB Ceed",role:"engineer",connectedOn:new Date("2019-01-01"),status:"screen"},{name:"John Smith",role:"sales",connectedOn:new Date("2019-01-02"),status:"explored"},{name:"A.B.C.",role:"customerSupport",connectedOn:new Date("2019-01-03"),status:"hire"},{name:"D. E. F.",role:"manager",connectedOn:new Date("2019-01-03"),status:"scheduled"},{name:"Master of Engine",role:"manager",connectedOn:new Date("2019-01-05"),status:"screen"},{name:"Donald Scrooge",role:"engineer",connectedOn:new Date("2019-01-07"),status:"expored"}],statuses:["screen","explored","hire","scheduled"],roles:["engineer","sales","customerSupport","manager"]},view:{keys:[],records:{},search:"",statuses:{}}},(function(e){if(e&&Array.isArray(e.records))return e.records=e.records.map((function(e,t){var n=e.connectedOn,r=Object(m.a)(e,["connectedOn"]);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(n,!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:String(t)},r,{connectedOn:n.toISOString()})})),e})),j=function(e){var t=e.view.search,n=e.data.records;if(e.view.records=O(n)(t).reduce((function(e,t){return e[t.id]=t,e}),{}),e.view.statuses=e.data.statuses.reduce((function(t,n){return t[n]=Object.values(e.view.records).filter((function(e){return e.status===n})).length,t}),{}),!e.view.keys.length){var r=new Set(n.map((function(e){return Object.keys(e)})).flat());r.delete("id"),e.view.keys=Object(u.a)(r)}},S=n(39),k=n(84),x=n.n(k),I=n(180),C=n(223),D=n(86),A=n.n(D),T=n(85),P=n.n(T);var R=function(e){var t=e.search,n=e.onEvent;return a.a.createElement(I.a,{style:{padding:16}},a.a.createElement("div",{style:{overflow:"hidden"}},a.a.createElement("div",{style:{float:"left"}},t.length?a.a.createElement(P.a,{onClick:n,style:{cursor:"pointer"}}):a.a.createElement(A.a,null)),a.a.createElement(C.a,{style:{float:"left",width:"calc(100% - 50px)"},placeholder:"Search\u2026",value:t,onChange:n})))},B=b()(x.a);var J=function(e){var t=e.search,n=e.onChange,c=Object(r.useState)(t),o=Object(S.a)(c,2),s=o[0],i=o[1],l=B(n,200);return a.a.createElement(R,{search:s,onEvent:function(e){var t=e.target.value||"";i(t),l(t)}})},N=n(221);var H=function(e){var t=e.statuses;return a.a.createElement("div",{style:{margin:"16px 0"}},Object.entries(t).map((function(e){var t=Object(S.a)(e,2),n=t[0],r=t[1];return a.a.createElement(N.a,{key:n,style:{marginRight:8},label:"".concat(n,": ").concat(r)})})))},W=n(213),q=n(214),F=n(211),L=n(212),U=n(210);var z=Object(r.memo)((function(e){return a.a.createElement(U.a,Object.assign({style:{width:"25%"}},e))})),M=n(4),$=n.n(M),_=$.a.shape({id:$.a.string.isRequired});$.a.arrayOf($.a.shape({id:$.a.string.isRequired,label:$.a.string.isRequired})),$.a.objectOf(_);var G=Object(r.memo)((function(e){var t=e.columns;return a.a.createElement(F.a,null,a.a.createElement(L.a,null,t.map((function(e){var t=e.id,n=e.label;return a.a.createElement(z,{key:t,align:"left"},n)}))))})),K=n(226),Q=n(222);var V=Object(l.b)((function(e){return e.data}),(function(e){return{onStatus:function(t){var n=t.id,r=t.status;return e({type:h.STATUS,payload:{id:n,status:r}})}}}))((function(e){var t=e.id,n=e.value,r=e.statuses,c=e.onStatus;return a.a.createElement(K.a,null,a.a.createElement(Q.a,{value:n,onChange:function(e){return c({id:t,status:e.target.value})}},r.map((function(e){return a.a.createElement("option",{key:e,value:e},e)}))))}));var X=Object(r.memo)((function(e){var t=e.columns,n=e.row;return a.a.createElement(L.a,{hover:!0,role:"checkbox",tabIndex:-1},t.map((function(e){var t=e.id,r=n[t];return a.a.createElement(z,{key:t,align:"left"},"status"===t?a.a.createElement(V,{id:n.id,value:r}):r)})))}));var Y=function(e){var t=e.columns,n=e.rows;return a.a.createElement(I.a,null,a.a.createElement(W.a,{stickyHeader:!0},a.a.createElement(G,{columns:t}),a.a.createElement(q.a,null,Object.values(n).map((function(e){return a.a.createElement(X,{key:e.id,columns:t,row:e})})))))},Z=b()((function(e){return e.map((function(e){return{id:e,label:e}}))}));var ee=Object(l.b)((function(e){return e.view}),(function(e){return{onSearch:function(t){return e({type:h.SEARCH,payload:{search:t}})},onInit:function(){return e({type:h.INIT})}}}))((function(e){var t=e.search,n=e.statuses,c=e.keys,o=e.records,s=e.onInit,i=e.onSearch;return Object(r.useEffect)((function(){s()}),[]),a.a.createElement(a.a.Fragment,null,a.a.createElement(J,{search:t,onChange:i}),a.a.createElement(H,{statuses:n}),a.a.createElement(Y,{columns:Z(c),rows:o}))})),te=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,n=arguments.length>1?arguments[1]:void 0,r=n.type,a=n.payload,c=(e={},Object(d.a)(e,h.INIT,(function(e){j(e)})),Object(d.a)(e,h.SEARCH,(function(e){var t=a.search;e.view.search=t,j(e)})),Object(d.a)(e,h.STATUS,(function(e){var n=a.id,r=a.status,c=parseInt(n,10),o=t.data,s=o.records,i=o.statuses;if(c>s.length||c<0)throw new Error("Invalid index '".concat(c,"'. It should be lower than ").concat(s.length));if(!i.includes(r))throw new Error("Invalid status '".concat(r,"'. It should be one of ").concat(JSON.stringify(i)));e.data.records[c].status=r,j(e)})),e)[r];return c&&Object(f.a)(t,c)||t},ne=(n(178),n(224)),re=n(215),ae=n(216),ce=n(217),oe=n(218),se=n(219),ie=n(56);var le=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(ne.a,null),a.a.createElement(re.a,{position:"absolute"},a.a.createElement(ae.a,null,a.a.createElement(ce.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0},"".concat(ie.name," v").concat(ie.version)))),a.a.createElement("main",{style:{paddingTop:100}},a.a.createElement(oe.a,{maxWidth:"lg"},a.a.createElement(se.a,{container:!0,spacing:3},a.a.createElement(se.a,{item:!0,xs:12},a.a.createElement(ee,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ue=Object(s.c)(te,Object(s.a)(Object(i.createLogger)({diff:!0})));o.a.render(a.a.createElement(l.a,{store:ue},a.a.createElement(le,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},56:function(e){e.exports=JSON.parse('{"name":"allyo-test","version":"0.1.0","private":true,"dependencies":{"@material-ui/core":"^4.6.0","@material-ui/icons":"^4.5.1","immer":"^5.0.0","lodash":"^4.17.15","prop-types":"^15.7.2","react":"^16.11.0","react-dom":"^16.11.0","react-redux":"^7.1.3","react-scripts":"3.2.0","redux":"^4.0.4","redux-logger":"^3.0.6"},"scripts":{"start":"react-scripts start","build":"react-scripts build","test":"react-scripts test","test:debug":"react-scripts --inspect-brk test --runInBand --no-cache","eject":"react-scripts eject"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"eslint-config-airbnb":"^18.0.1"}}')},93:function(e,t,n){e.exports=n(179)}},[[93,1,2]]]);
//# sourceMappingURL=main.4eaa6bd4.chunk.js.map