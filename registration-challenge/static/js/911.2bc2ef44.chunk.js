"use strict";(self.webpackChunkregistration_challenge=self.webpackChunkregistration_challenge||[]).push([[911],{3911:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});var a=r(5043);const n=function(e){let{userFactory:t,save:r,reducer:n,getInitialState:s,registerSecondaryTask:u,...c}=e;const[{display:{error:l,...i},validating:o,submitting:d},f]=(0,a.useReducer)(n,null,s),h=(0,a.useCallback)((e=>f({type:"CHANGE",payload:e})),[]),y=(0,a.useCallback)((()=>f({type:"SUBMIT"})),[]),p=(0,a.useMemo)(t,[t]);(0,a.useEffect)((()=>{if(!o)return;const e=Object.fromEntries(Object.entries(o).filter((e=>{let[,t]=e;return null!==t}))),t=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return u((()=>f(...t)))};p.set(e),p.validate().then((()=>t({type:"VALIDATE",validated:o}))).catch((e=>t({type:"VALIDATE",error:e,validated:o})))}),[p,o,u]);const[g,v]=(0,a.useState)();(0,a.useEffect)((()=>{d&&r(d).then((()=>f({type:"DONE"}))).catch((e=>{f({type:"ERROR",error:e}),v(e)}))}),[r,d]);const{loadCountries:E}=p.validator,[b,k]=(0,a.useState)({});return(0,a.useLayoutEffect)((()=>{E().then((e=>u((()=>k(e)))))}),[E,u]),{onChange:h,onSubmit:y,...i,error:l?g:void 0,user:p,countries:b,...c}}}}]);
//# sourceMappingURL=911.2bc2ef44.chunk.js.map